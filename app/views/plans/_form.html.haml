- @plan = Plan.new
= form_for @plan, html: { class: "form form-horizontal plan" } do |f|
  .field
    = f.text_field :title, class: 'form-control', required: true, 'v-model' => 'plan.title', placeholder: '名称'
  .field
    = f.text_field :description, class: 'form-control', required: true, 'v-model' => 'plan.description', placeholder: '描述'
  .field
    .color-select-feild
      = f.collection_radio_buttons :color_tag, options_for_color, :last, :first do |b|
        %i.icon-circle{class: 'color-circle', style: "color: #{b.text}", id: "color_tag_#{b.value}", :onclick => "checkColor(this.id)"}
        .hidden
          = b.radio_button
    .add-plan-buttons
      %button.btn.btn-sm.btn-default{ :type => "button" } 取消
      %button.btn.btn-sm.btn-primary{ :type => "button", 'v-on:click' => 'addPlan()' } 提交
:javascript
  function checkColor(id) {
    var colorCircle = $('.color-circle')
    for (var i = 0; i < colorCircle.length; i++) {
      if (colorCircle[i].id == id) {
        $("#plan_" + id).attr("checked","checked");
        $('#add-plan-field').css({'border-left-color':$('#' + id).css('color')})
      }else {
        $("#plan_color_tag_" + i).removeAttr("checked");
      }
    }
  }